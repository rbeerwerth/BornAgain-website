<!DOCTYPE html>
<html lang="en-us">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<title>3D Nanoparticle Arrangements -- BornAgain</title>


<link href="https://www.bornagainproject.org/css/bootstrap.min.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/theme.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/mathjax-style.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/vs.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/baguetteBox.min.css" rel="stylesheet">
<link href="https://www.bornagainproject.org/css/gallery-grid.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/assets/css/bornagain.css" rel="stylesheet">

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville" rel='stylesheet'  type='text/css'> 
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
    var TEX = MathJax.InputJax.TeX;
    var PREFILTER = TEX.prefilterMath;
    TEX.Augment({
      prefilterMath: function (math,displaymode,script) {
        if (!displaymode) {math = "\\small{"+math+"}"}
        return PREFILTER.call(TEX,math,displaymode,script);
      }
    });
  });
  </script>

</head>


  <body>
    <header class="hero overlay"><div class="container">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark bg-primary">
    <a class="navbar-brand" href="https://www.bornagainproject.org">
        <img src="https://www.bornagainproject.org/assets/img/bornagain-logo.png" class="d-inline-block align-top" alt="">
        BornAgain
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
      <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
        
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/">Home</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/gallery/">Gallery</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/download/">Download</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/post/">News</a></li>
        
          <li class="nav-item active"> <a class="nav-link" href="https://www.bornagainproject.org/documentation/">Documentation</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/contact/">Contact</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/about/">About</a></li>
          
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/scgmlz/BornAgain" target="_blank" rel="noopener" aria-label="GitHub">
              <span class="fa fa-github fa-2x"></span>
            </a>
          </li>        
        
      </ul>
    </div>
  </nav>
</div>
  
      <div class="container">
        <div class="row">
          <div class="col-lg-12"> <br></div>
        </div>
      </div>
    </header>

    
  <div class="breadcrumb">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">







 <a href='https://www.bornagainproject.org/'>Home</a> > <a href='https://www.bornagainproject.org/documentation/'>Documentation</a> > <a href='https://www.bornagainproject.org/documentation/working-with-python/'>Working with Python scripts</a> > 3D Nanoparticle Arrangements

 

 

 

   
        </div>
      </div>
    </div>
</div>





    





<div class="container">
  <div class="row">
    <div class="col-md-8">
      
      
  
  

<h1 id="3d-nanoparticle-arrangements">3D Nanoparticle Arrangements</h1>

<p>3D nanoparticle arrangements obtained using different techniques are complex, but quite frequent kind of samples being studied with GISAS. Depending on the properties of the particular sample you may choose one of 2 ways to represent 3D particle arrangement in BornAgain simulation:</p>

<ul>
<li><a href="#pcomposition">Particle compositions arranged in a lattice</a></li>
<li><a href="#mesocrystal">Mesocrystal</a></li>
</ul>

<p>Below you will find a detailed description of each option.</p>

<div class="notices note" ><p>For simplicity this tutorial uses a spherical detector. This is a good approximation, but for the real-life cases we recommend to use rectangular detector. See the <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/">Detector types</a> tutorial for detailed explanations about various detector types in BornAgain.</p>

<p>We also neglect <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/detector-resolution/">detector resolution</a> and <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/beam-divergence/">beam divergence</a> in this tutorial. However, we recommend to consider them if you want to compare simulation results to experimental data.</p>

<p>All Python code in this tutorial assumes <strong>Python3</strong> and may not work with Python2.</p>
</div>


<h2 id="particle-compositions-arranged-in-a-lattice">Particle compositions arranged in a lattice</h2>

<p><anchor id="pcomposition"><figure class="center">
      <a href="3d_np_view.png">
        <img src="3d_np_view.png" >
      </a>
      <figcaption>
        <p></p>
      </figcaption>
    </figure>

<p>Let&rsquo;s take a case of spherical particles arranged in a cubic lattice with the following parameters:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">particle_radius</span> <span class="o">=</span> <span class="mf">2.5</span><span class="o">*</span><span class="n">nm</span>
<span class="n">lattice_length</span> <span class="o">=</span> <span class="mf">10.0</span><span class="o">*</span><span class="n">nm</span>
<span class="n">height</span> <span class="o">=</span> <span class="mf">50.0</span><span class="o">*</span><span class="n">nm</span></code></pre></div>
<p>One can easily create such a structure either in GUI or in Python using the following steps:</p>

<p><strong>Create a particle composition</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># Defining Form Factors</span>
<span class="n">ff_sphere</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorFullSphere</span><span class="p">(</span><span class="n">particle_radius</span><span class="p">)</span>

<span class="c1"># Defining composition of particles at specific positions</span>
<span class="n">particle_composition</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">ParticleComposition</span><span class="p">()</span>
    
<span class="c1"># compute number of particles in the vertical direction</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">height</span> <span class="o">-</span> <span class="mf">2.0</span><span class="o">*</span><span class="n">particle_radius</span><span class="p">)</span> <span class="o">//</span> <span class="n">lattice_length</span><span class="p">)</span> 
    
<span class="c1"># add particles to the particle composition</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">particle</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Particle</span><span class="p">(</span><span class="n">m_particle</span><span class="p">,</span> <span class="n">ff_sphere</span><span class="p">)</span>
    <span class="n">particle_position</span> <span class="o">=</span> <span class="n">kvector_t</span><span class="p">(</span><span class="mf">0.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="n">i</span><span class="o">*</span><span class="n">lattice_length</span><span class="p">)</span>
    <span class="n">particle</span><span class="o">.</span><span class="n">setPosition</span><span class="p">(</span><span class="n">particle_position</span><span class="p">)</span>
    <span class="n">particle_composition</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">particle</span><span class="p">)</span></code></pre></div>
<p>If you work in GUI, you will need to add each particle manually. See the <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-composition/">Particle composition</a> tutorial for more details.</p>

<p><strong>Arrange created compositions in a lattice.</strong></p>

<p>For this example we will use 2D square lattice.</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># Defining Interference Function</span>
<span class="n">interference</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">InterferenceFunction2DLattice</span><span class="p">(</span><span class="n">lattice_length</span><span class="p">,</span> <span class="n">lattice_length</span><span class="p">,</span> <span class="mf">90.0</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
<span class="n">interference_pdf</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FTDecayFunction2DCauchy</span><span class="p">(</span><span class="mf">500.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="mf">500.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
<span class="n">interference</span><span class="o">.</span><span class="n">setDecayFunction</span><span class="p">(</span><span class="n">interference_pdf</span><span class="p">)</span>

<span class="c1"># Defining Particle Layout and adding Particles</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">ParticleLayout</span><span class="p">()</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">particle_composition</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">setInterferenceFunction</span><span class="p">(</span><span class="n">interference</span><span class="p">)</span></code></pre></div>
<p>See the <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/">Interference functions</a> tutorial for more details on interference functions available in BornAgain.</p>

<h3 id="disorder">Disorder</h3>

<p>Perfectly ordered nanoparticle arrangements are rare. For better match between simulated and experimentally observed GISAS patterns, you may wish to introduce some disorder. The most frequent kinds of disorder for nanoparticle arrangemets are:</p>

<ul>
<li>Position variance and</li>
<li>Rotational distribution</li>
</ul>

<p><strong>Position variance</strong></p>

<div class="galleryscg ">
    <div class="row justify-content-center align-items-center">
      
<figure >
      <a href="3d_np_gisas.png">
        <img src="3d_np_gisas.png" width="350px">
      </a>
      <figcaption>
        <p>No position variance</p>
      </figcaption>
    </figure>

<figure >
      <a href="3d_np_gisas_posvar.png">
        <img src="3d_np_gisas_posvar.png" width="350px">
      </a>
      <figcaption>
        <p>Position variance 0.3 nm$^2$</p>
      </figcaption>
    </figure>


  </div>
</div>

<p>Position variance characterizes uncertainty of the particle position in the lattice. It will broaden and smear out the interference peaks as shown in the example figure above.</p>

<div class="notices note" ><p>Pay attention, that in this case the whole particle composition is considered as a single &ldquo;particle&rdquo;. Thus, position variance is only in <strong>2D</strong>. Be sure that it is desired behavior for the system you simulate.</p>
</div>

<p>You can set the position variance using the following Python code:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">interference</span><span class="o">.</span><span class="n">setPositionVariance</span><span class="p">(</span><span class="n">var</span><span class="p">)</span></code></pre></div>
<p>where <code>var</code> is a floating point number. More details you will find in the <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/lattice2d/">2D lattice</a> tutorial.</p>

<p><strong>Rotational distribution</strong></p>

<p>Often particle arrangement over the sample is not uniform, but consists of domains rotated with respect to each other. This will influence number and position of interference peaks on the observed GISAS pattern.</p>

<p>If you suggest uniform rotational distribution of the domains, you can consider it in the simulation using the following Python code:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">interference</span><span class="o">.</span><span class="n">setIntegrationOverXi</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span></code></pre></div>
<p>or by activating a corresponding checkbox in GUI. Pay attention, that this setting <strong>will slow down the simulation dramatically</strong>.</p>

<p>If you suggest that domains in your sample have a preferred orientation, you can create the rotational distribution manually. For this purpose you will need to modify the Python code as follows. First, we introduce the lattice rotations dictionary</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># lattice rotations dictionary, consists of pairs &#34;xi: weight&#34;</span>
<span class="c1"># sum of the weights must be less or equal to 1</span>
<span class="n">rotations</span> <span class="o">=</span> <span class="p">{</span><span class="mf">0.0</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">45.0</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">}</span></code></pre></div>
<p>In this example we consider two lattice rotations: $\xi=0^{\circ}$ with weight 0.7 and $\xi=45^{\circ}$ with weight 0.3. Pay attention, that BornAgain requires that <strong>sum of layout weigths less or equal to 1</strong>. To add these layouts to the multilayer, we modify the Python code as follows:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">xi</span> <span class="ow">in</span> <span class="n">rotations</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="c1"># Defining Interference Function</span>
    <span class="n">interference</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">InterferenceFunction2DLattice</span><span class="p">(</span><span class="n">lattice_length</span><span class="p">,</span> <span class="n">lattice_length</span><span class="p">,</span> <span class="mf">90.0</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">xi</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
    <span class="n">interference_pdf</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FTDecayFunction2DCauchy</span><span class="p">(</span><span class="mf">500.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="mf">500.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
    <span class="n">interference</span><span class="o">.</span><span class="n">setDecayFunction</span><span class="p">(</span><span class="n">interference_pdf</span><span class="p">)</span>

    <span class="c1"># Defining Particle Layout and adding Particles</span>
    <span class="n">layout</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">ParticleLayout</span><span class="p">()</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">particle_composition</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">setInterferenceFunction</span><span class="p">(</span><span class="n">interference</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">setWeight</span><span class="p">(</span><span class="n">rotations</span><span class="p">[</span><span class="n">xi</span><span class="p">])</span>

    <span class="c1"># Adding layouts to layers</span>
    <span class="n">l_air</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span></code></pre></div>
<p>In the GUI you should create and add all the layouts manually. This approach makes sence if you have just a few rotations.</p>

<div class="galleryscg ">
    <div class="row justify-content-center align-items-center">
      
<figure >
      <a href="3d_np_gisas_integration_over_xi.png">
        <img src="3d_np_gisas_integration_over_xi.png" width="350px">
      </a>
      <figcaption>
        <p>Uniform rotational distribution</p>
      </figcaption>
    </figure>

<figure >
      <a href="3d_np_gisas_latrot.png">
        <img src="3d_np_gisas_latrot.png" width="350px">
      </a>
      <figcaption>
        <p>Two lattice rotation angles</p>
      </figcaption>
    </figure>


  </div>
</div>

<p>Figures above show the influence of both considered rotational distributions on the GISAS pattern.</p>

<p>Alternatively, you can consider use of distributions available in BornAgain. See the <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-distribution/">Particle distribution</a> tutorial for more information. Pay attention, that in this case you should apply the chosen distribution to parameter <code>Interference2DLattice/BasicLattice/Xi</code>. See the corresponding <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-lattice-sum-of-rotated/">tutorial example</a> for details.</p>

<p>If your particle composition is not symmetrical, you may need to rotate your particles as well. See the <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-rotation/">Particle rotation</a> tutorial for details.</p>

<p>Complete Python scripts for this part of tutorial</p>

<ul>
<li><span class="fa fa-save fa-lg fa-fw " aria-hidden="true"></span>
<a href="particle_composition.py">particle_composition.py</a></li>
<li><span class="fa fa-save fa-lg fa-fw " aria-hidden="true"></span>
<a href="particle_composition_rotational_distribution.py">particle_composition_rotational_distribution.py</a></li>
</ul>

<h2 id="mesocrystal">Mesocrystal</h2>

<p><anchor id="mesocrystal"><figure class="center">
      <a href="meso_view.png">
        <img src="meso_view.png" >
      </a>
      <figcaption>
        <p></p>
      </figcaption>
    </figure></p>

<p>Another and more flexible way to represent a 3D particle arrangement is <strong>mesocrystal</strong>. It can be easily created in both, GUI and Python. Complete Python script to create a mesocrystal you can find in the <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/meso-crystal/">Mesocrystal</a> tutorial example.</p>

<p>In the present tutorial we consider mesocrystal with the following parameters</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># parameters of 3D particle arrangement</span>
<span class="n">particle_radius</span> <span class="o">=</span> <span class="mf">5.0</span><span class="o">*</span><span class="n">nm</span>
<span class="n">lattice_length</span> <span class="o">=</span> <span class="mf">20.0</span><span class="o">*</span><span class="n">nm</span>

<span class="c1"># mesocrystal size</span>
<span class="n">meso_height</span> <span class="o">=</span> <span class="mf">50.0</span><span class="o">*</span><span class="n">nm</span>
<span class="n">meso_width</span> <span class="o">=</span> <span class="mf">500.0</span><span class="o">*</span><span class="n">nm</span>
<span class="n">meso_length</span> <span class="o">=</span> <span class="mf">500.0</span><span class="o">*</span><span class="n">nm</span></code></pre></div>
<p>Mesocrystal can be created in the following steps.</p>

<p><strong>Create particles that form the base of the mesocrystal</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># Spherical particles, form the base of the mesocrystal</span>
<span class="n">ff_sphere</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorFullSphere</span><span class="p">(</span><span class="n">particle_radius</span><span class="p">)</span>
<span class="n">sphere</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Particle</span><span class="p">(</span><span class="n">m_particle</span><span class="p">,</span> <span class="n">ff_sphere</span><span class="p">)</span></code></pre></div>
<p><strong>Create lattice</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># mesocrystal lattice (cubic lattice for this example)</span>
<span class="n">lattice_a</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">kvector_t</span><span class="p">(</span><span class="n">lattice_length</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">lattice_b</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">kvector_t</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">lattice_length</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">lattice_c</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">kvector_t</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">lattice_length</span><span class="p">)</span>
<span class="n">lattice</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Lattice</span><span class="p">(</span><span class="n">lattice_a</span><span class="p">,</span> <span class="n">lattice_b</span><span class="p">,</span> <span class="n">lattice_c</span><span class="p">)</span></code></pre></div>
<p><strong>Create a mesocrystal</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># crystal structure</span>
<span class="n">crystal</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Crystal</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="n">lattice</span><span class="p">)</span>

<span class="c1"># mesocrystal</span>
<span class="n">meso_ff</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorBox</span><span class="p">(</span><span class="n">meso_length</span><span class="p">,</span> <span class="n">meso_width</span><span class="p">,</span> <span class="n">meso_height</span><span class="p">)</span>
<span class="n">meso</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">MesoCrystal</span><span class="p">(</span><span class="n">crystal</span><span class="p">,</span> <span class="n">meso_ff</span><span class="p">)</span>

<span class="n">layout</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">ParticleLayout</span><span class="p">()</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">meso</span><span class="p">)</span></code></pre></div>
<h3 id="size-of-the-mesocrystal">Size of the mesocrystal</h3>

<p>Size of the mesocrystal influences the GISAS pattern dramatically. This is especially well seen for small mesocrystals. Unless you know size of your mesocrystals from other techniques, we recommend to vary it to find the one that matches the experimental data the best.</p>

<div class="galleryscg ">
    <div class="row justify-content-center align-items-center">
      
<figure >
      <a href="meso_box_w050nm.png">
        <img src="meso_box_w050nm.png" width="350px">
      </a>
      <figcaption>
        <p>Mesocrystal of $W=L=50$ nm</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_box_w100nm.png">
        <img src="meso_box_w100nm.png" width="350px">
      </a>
      <figcaption>
        <p>Mesocrystal of $W=L=100$ nm</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_box_w250nm.png">
        <img src="meso_box_w250nm.png" width="350px">
      </a>
      <figcaption>
        <p>Mesocrystal of $W=L=250$ nm</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_box_w500nm.png">
        <img src="meso_box_w500nm.png" width="350px">
      </a>
      <figcaption>
        <p>Mesocrystal of $W=L=500$ nm</p>
      </figcaption>
    </figure>


  </div>
</div>

<p>In the figures above tou can see the GISAS pattern for a Box-shaped mesocrystal of different sizes in latteral direction. For simplicity, we take width $W$ and length $L$ of the mesocrystal equal. As you can see, small mesocrystals cause a lot of peaks coming from the mesocrystal shape. These peaks &ldquo;vanish&rdquo; for large mesocrystals, because the intensity starts to oscillate so fast, that we are not able any more to observe them. You can also see, that the shape of the &ldquo;structure&rdquo; peaks is also affected.</p>

<div class="notices note" ><p>Pay attention, that instrument resolution and beam divergence can smear out the observed peaks even for smaller mesocrystals.</p>
</div>

<h3 id="shape-of-the-mesocrystal">Shape of the mesocrystal</h3>

<p>Shape of the mesocrystal is also very important parameter that influences the GISAS pattern. To vary the shape you can choose any of the particle form factors available in BornAgain. See the example on available <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/all-formfactors/">particle form factors</a></p>

<div class="galleryscg ">
    <div class="row justify-content-center align-items-center">
      
<figure >
      <a href="meso_cylinder.png">
        <img src="meso_cylinder.png" width="350px">
      </a>
      <figcaption>
        <p>Cylinder</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_truncated_sphere.png">
        <img src="meso_truncated_sphere.png" width="350px">
      </a>
      <figcaption>
        <p>Truncated Sphere</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_gauss.png">
        <img src="meso_gauss.png" width="350px">
      </a>
      <figcaption>
        <p>Gauss</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_lorentz.png">
        <img src="meso_lorentz.png" width="350px">
      </a>
      <figcaption>
        <p>Lorentz</p>
      </figcaption>
    </figure>


  </div>
</div>

<p>The figures above shoud the GISAS patterns for different shapes of mesocrystals. The width of all mesocrystals is $100$ nm. Form factors <code>FormFactorGauss</code> and <code>FormFactorLorentz</code> are presently not available in GUI. However, they can be used from Python:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">meso_ff</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorGauss</span><span class="p">(</span><span class="n">meso_width</span><span class="p">,</span> <span class="n">meso_height</span><span class="p">)</span></code></pre></div>
<p>or</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">meso_ff</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorLorentz</span><span class="p">(</span><span class="n">meso_width</span><span class="p">,</span> <span class="n">meso_height</span><span class="p">)</span></code></pre></div>
<h3 id="position-variance">Position variance</h3>

<p>Position variance describes the displacement of the nanoparticle around the lattice point in <strong>3D</strong>. The larger is the position variance, the stronger will be attenuation of the peak intensity along $Q_z$. This can be seen in figures below.</p>

<div class="galleryscg ">
    <div class="row justify-content-center align-items-center">
      
<figure >
      <a href="meso_dw_01.png">
        <img src="meso_dw_01.png" width="350px">
      </a>
      <figcaption>
        <p>Position variance $0.1$ nm$^2$</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_dw_05.png">
        <img src="meso_dw_05.png" width="350px">
      </a>
      <figcaption>
        <p>Position variance $0.5$ nm$^2$</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_dw_1.png">
        <img src="meso_dw_1.png" width="350px">
      </a>
      <figcaption>
        <p>Position variance $1$ nm$^2$</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_dw_2.png">
        <img src="meso_dw_2.png" width="350px">
      </a>
      <figcaption>
        <p>Position variance $2$ nm$^2$</p>
      </figcaption>
    </figure>


  </div>
</div>

<p>This setting is presently not available in GUI. It can be used from Python as follows</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">crystal</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Crystal</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="n">lattice</span><span class="p">)</span>
<span class="c1"># crystal.setDWFactor(0.5)  # for BornAgain versions 1.16 and below</span>
<span class="n">crystal</span><span class="o">.</span><span class="n">setPositionVariance</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># for newer BornAgain versions</span></code></pre></div>
<h3 id="interference-function">Interference function</h3>

<p>While representing 3D nanoparticle arrangement as a mesocrystal, you might come up with a question whether you need an interference function. The answer depends on the size of your mesocrystal, distance between mesocrystals and resolution of the instrument where the measurements are performed.</p>

<p>Let&rsquo;s take the mesocrystal of width $W=100$ nm and distance between two mesocrystals $D=300$ nm. In this case, to be able to resolve interference peaks you will need an instrument resolution of at least:</p>

<p>$$\Delta Q = \frac{2\pi}{300}\approx \;0.02\; nm^{-1} \approx \; 0.002 \; \unicode{x212B}^{-1}$$</p>

<h2 id="large-particles-aliasing-problem">Large particles (aliasing problem)</h2>

<p>Often you need rather large mesocrystal to represent a 3D nanoparticle arrangement. In this case intensity will oscillate over each detector bin with high frequency. Thus, analytical computation with sampling points in the bin centers will cause artifacts in the simulated GISAS pattern. This is shown in the figures below.</p>

<div class="galleryscg ">
    <div class="row justify-content-center align-items-center">
      
<figure >
      <a href="meso_box_w500nm_nomc.png">
        <img src="meso_box_w500nm_nomc.png" width="350px">
      </a>
      <figcaption>
        <p>Analytical computation</p>
      </figcaption>
    </figure>

<figure >
      <a href="meso_box_w500nm.png">
        <img src="meso_box_w500nm.png" width="350px">
      </a>
      <figcaption>
        <p>Monte-Carlo integration</p>
      </figcaption>
    </figure>


  </div>
</div>

<p>The way to avoid this problem implemented in BornAgain is Monte-Carlo integration over the detector bin. You can switch it on in both, GUI (checkbox in the <code>Simulation</code> view) and in Python</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">simulation</span><span class="o">.</span><span class="n">getOptions</span><span class="p">()</span><span class="o">.</span><span class="n">setMonteCarloIntegration</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span></code></pre></div>
<p>where <code>n</code> is a number of points for Monte-Carlo integration. For more details see the <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/large-particles-formfactor/">Large particle formfactor</a> tutorial.</p>

<p>Download the complete Python script <span class="fa fa-save fa-lg fa-fw " aria-hidden="true"></span>
 <a href="mesocrystal.py">mesocrystal.py</a></p>

<h2 id="diffuse-scattering">Diffuse scattering</h2>

<p>Besides of Bragg peaks, measured GISAS pattern often contains diffuse scattering. This is a sign of some kind of disorder in the sample. Which kind of disorder it is exactly, depends on sample production technique. Here we can list some frequent types:</p>

<ul>
<li><strong>Loose nanoparticles.</strong> This is often for self-assempbled 3D nanoparticle arrangements. These nanoparticles can also have size distribution or positional distribution along $Z$ axis (<code>PositionZ</code>). To add loose particles you will need to create a separate <code>ParticleLayout</code> and add it to the same layer as mesocrystal with an appropriate weight.  For more information about particle distributions, see the <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-distribution/">particle distribution</a> tutorial.</li>
</ul>

<div class="notices note" ><p>Pay attention, that relative weights of layouts as well as <code>TotalParticleSurfaceDensity</code> in each layout will affect the relative scattering intensities caused by particles of each particle layout. You can set these parameters either in GUI or using the following Python code</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">layout</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">ParticleLayout</span><span class="p">()</span>
<span class="n">layout</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">meso</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">setTotalParticleSurfaceDensity</span><span class="p">(</span><span class="mf">1.0e-04</span><span class="p">)</span>    <span class="c1"># or any other reasonable number between 0 and 1</span>
<span class="n">layout</span><span class="o">.</span><span class="n">setWeight</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>                             <span class="c1"># or any other reasonable number between 0 and 1</span></code></pre></div></div>

<ul>
<li><strong>Rotational distribution</strong> can cause smearing out and displacement of Bragg peaks. You can easily rotate mesocrystal in GUI by applying <code>Rotation</code> as <code>transtormation</code>. In Python you would need to use the following code</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">meso</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">MesoCrystal</span><span class="p">(</span><span class="n">crystal</span><span class="p">,</span> <span class="n">meso_ff</span><span class="p">)</span>
<span class="n">meso_rotation</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">RotationZ</span><span class="p">(</span><span class="mf">45.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
<span class="n">meso</span><span class="o">.</span><span class="n">setRotation</span><span class="p">(</span><span class="n">meso_rotation</span><span class="p">)</span></code></pre></div>
<p>This example rotates the mesocrystal around $Z$ axis by 45 degrees. You can also apply rotational distribution in a way similar to described above in <a href="#pcomposition">Particle compositions arranged in a lattice</a> section.</p>

<ul>
<li><strong>Interface roughness</strong> influences the peak intensities. See the tutorial example on <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/correlated-roughness/">correlated roughness</a> for more details about interface roughness.</li>
</ul>

<div class="notices note" ><p>Pay attention, the more disorder you add to your sample model, the more <strong>slow and resource-consuming</strong> will be the simulation.</p>
</div>

<h2 id="general-recommendations">General recommendations</h2>

<ul>
<li><p>Start with a simplest model. If you have simple and well-ordered system, use <code>particle composition</code>. If you observe signs of disorder in experimental data, use <code>mesocrystal</code>. Important is at first to build a simplest possible model that matches peak positions.</p></li>

<li><p>If you have a heterogeneous nanoparticle arrangements, first check the contrast of all the particles to the medium. If SLD of some particles does not differ noticeably from the ambient SLD, don&rsquo;t simulate them. It will allow for a simler model and will save you computation time. The same approach we recommend for core-shell particles.</p></li>

<li><p>If simulation does not reproduce all the peaks observed in experimental data, try to add rotational distribution. For the beginning keep it as simple as possible.</p></li>

<li><p>If particles in 3D arrangement are densely packed, use averaged materials. It might have a strong influence on the GISAS pattern in the range of small $Q_z$. This can be done either by choosing <code>Average Layer Material</code> in <code>Simulation</code> view in GUI or with the following Python code:</p></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">simulation</span><span class="o">.</span><span class="n">getOptions</span><span class="p">()</span><span class="o">.</span><span class="n">setUseAvgMaterials</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span></code></pre></div>
<p>See also tutorial examples on <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/half-spheres-in-average-top-layer/">Hemispheres in Averaged Layer</a> and <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/cylinders-in-average-layer/">Cylinders in Averaged Layer</a>.</p>

<ul>
<li>Peak shapes and intensities can be influenced by a lot of different parameters, starting from disorder in 3D particle arrangement and finishing by instrument resolution, beam divergence and background. To find out which factor is important for your case, you should investigate influence of each of them one by one.</li>
</ul>

<h2 id="exercise">Exercise</h2>

<p>Find appropriate sample and instrument parameters to match simulation with fake experimental data presented in the figure below</p>

<figure class="center">
      <a href="meso_4plots.png">
        <img src="meso_4plots.png" >
      </a>
      <figcaption>
        <p></p>
      </figcaption>
    </figure>

<p>Download files needed to produce this image:</p>

<p><ul>
<li><p><span class="fa fa-save fa-lg fa-fw " aria-hidden="true"></span>
<a href="mesocrystal_4plots.py">mesocrystal_4plots.py</a></p></li></p>

<p><li><p><span class="fa fa-save fa-lg fa-fw " aria-hidden="true"></span>
<a href="fake_data.npy">fake_data.npy</a></p></li>
</ul>
</anchor></p>
</anchor></p>


      <div class="container next-prev">
<nav>
  <ul class="pagination pagination-sm justify-content-end"><li class="page-item ">
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/para2d/" class="page-link"><i class="fa fa-chevron-left fa-1g "></i>
      </a>
    </li>  

    <li class="page-item ">
      <a href="https://www.bornagainproject.org/documentation/working-with-python/magnetic-particles/" class="page-link"><i class="fa fa-chevron-right fa-1g "></i>
      </a>
    </li></ul>
</nav>
</div>

    </div>
    <div class="col-md-4">
    <ul class="doctree">
    <li class="dd-item parent">
          <i class="fa liOpened li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/"><span>Documentation</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/introduction/"><span>Introduction</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/introduction/functionality/"><span>Functionality overview</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/introduction/architecture/"><span>Architectural overview</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/"><span>Getting started</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/"><span>Installation instructions</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/"><span>Installation on Windows</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-anaconda/"><span>Install Python with the Anaconda installer (recommended)</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-original/"><span>Manual Python installation (advanced)</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-original/python-vscode/"><span>VSCode editor</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-original/python-pycharm/"><span>PyCharm IDE</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-troubleshooting/"><span>Python troubleshooting</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/macos/"><span>Installation on MacOS</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/macos/advanced-tips/"><span>Advanced tips</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-short/"><span>Installation on Linux (short version)</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/"><span>Installation on Linux (detailed version)</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/third-party/"><span>Install third-party software</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/get-source/"><span>Get the source</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/build-and-install/"><span>Build and install BornAgain</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/first-simulation/"><span>Run a first simulation</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/quick-start/"><span>Quick Start</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/running-gui/"><span>Using the Graphical User Interface</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/running-gui/gui-overview/"><span>BornAgain GUI overview</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/running-gui/gui-fitting/"><span>Fitting in the GUI</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item parent">
          <i class="fa liOpened li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/"><span>Working with Python scripts</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/"><span>Basic simulation tutorial</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/gisas/"><span>GISAS</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/reflectometry/"><span>Reflectometry</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/depth-probe/"><span>Depth-probe</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/material-types/"><span>Material types</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/"><span>Detector types</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/spherical-detector/"><span>Spherical detector</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/rectangular-detector/"><span>Rectangular detector</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/accessing-simulation-results/"><span>Accessing simulation results</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-positioning/"><span>Particle positioning</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-distribution/"><span>Particle distribution</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-rotation/"><span>Particle rotation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-composition/"><span>Particle composition</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/"><span>Interference functions</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/lattice1d/"><span>1D lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/lattice2d/"><span>2D lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/para_radial/"><span>Radial paracrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/para2d/"><span>2D paracrystal</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item active">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/3d-nanoparticle-arrangements/"><span>3D Nanoparticle Arrangements</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/magnetic-particles/"><span>Magnetic particles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/python-api/"><span>Python API</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/"><span>Fitting</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/"><span>Introduction</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/basic-concept/"><span>Basic concept</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/fitting-in-gisas/"><span>Fitting in GISAS</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/minimal-fitting-example/"><span>Minimal fitting example</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/basic-fitting-tutorial/"><span>Basic fitting tutorial</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/importing-experimental-data/"><span>Importing experimental data</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/instrument-description/"><span>Experiment description</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/minimizers/"><span>Minimizer settings</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/"><span>Tutorial examples</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/"><span>Embedded particles</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/cylinders-ba/"><span>Cylinders in Born Approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/cylinders-dwba/"><span>Cylinders in Distorted Wave Born Approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/size-distribution/"><span>Cylinders with size distribution</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/size-distribution2/"><span>Two types of cylinders with size distribution</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/rotated-pyramids/"><span>Rotated Pyramids</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/cylinders-and-prisms/"><span>Cylinders and Prisms</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/all-formfactors/"><span>All available form factors</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/"><span>Layered structures</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/buried-particles/"><span>Buried particles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/correlated-roughness/"><span>Correlated roughness</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/"><span>Interference functions</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-1d-lattice/"><span>1D lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-square-lattice/"><span>2D square lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-rotated-square-lattice/"><span>2D rotated square lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-square-finite-lattice/"><span>2D square finite lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-lattice-sum-of-rotated/"><span>2D sum of rotated square lattices</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-centered-square-lattice/"><span>2D centered square lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/spheres-at-hex-lattice/"><span>Spheres on Hexagonal Lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/cosine-ripples-at-rect-lattice/"><span>Cosine ripples in a lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/triangular-ripples/"><span>Triangular ripples in a lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-paracrystal/"><span>2D Paracrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-1d-radial-paracrystal/"><span>1D radial paracrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/rectangular-grating/"><span>Rectangular grating</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/approximation-da/"><span>Size-distribution model: decoupling approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/approximation-lma/"><span>Size-distribution model: local monodisperse approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/approximation-ssca/"><span>Size-distribution model: size-spacing coupling approximation</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/"><span>Complex shapes</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/core-shell-nanoparticles/"><span>Core shell nanoparticles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/bi-material-cylinders/"><span>Cylinders with two materials</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/particles-crossing-interface/"><span>Particles crossing an interface</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/hexagonal-lattice-with-basis/"><span>Hexagonal lattices with basis</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/meso-crystal/"><span>Mesocrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/large-particles-formfactor/"><span>Large particle formfactor</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/custom-formfactor/"><span>Custom formfactor</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/"><span>Beam and detector</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/beam-divergence/"><span>Beam divergence</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/constant-background/"><span>Adding constant background</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/detector-resolution/"><span>Detector resolution function</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/offspecular-simulation/"><span>Off-Specular</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/resonator-offspec-setup/"><span>Off-Specular - Resonators</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/rectangular-detector/"><span>Rectangular detector</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/"><span>Reflectometry</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/specular-simulation-with-roughness/"><span>Simulation with a rough sample</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/footprint-correction/"><span>Footprint correction</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/beam-angular-divergence/"><span>Beam Angular Spread</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/beam-full-divergence/"><span>Beam Wavelength Spread</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/material-profile/"><span>Material profile</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/material-profile-with-particles/"><span>Material profile with particles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/time-of-flight/"><span>Time of Flight Reflectometry</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/tofr-with-resolution/"><span>ToF - Resolution effects</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/"><span>Fitting</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/"><span>Basic examples</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/minimal-fit-example/"><span>Minimal fit example</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/basic-fit-tutorial/"><span>Basic fit example</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/minimizer-settings/"><span>Minimizer settings</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/consecutive-fitting/"><span>Consecutive fitting</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/"><span>Advanced examples</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/fit-with-masks/"><span>Fitting with masks</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/fit-along-slices/"><span>Fitting along slices</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/find-background/"><span>Find background</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/multiple-datasets/"><span>Simultaneous fit of two datasets</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/"><span>Extended examples</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/fit-specular-data/"><span>Fitting reflectometry data</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/custom-objective-function/"><span>Custom objective function</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/experiment-at-galaxi/"><span>Experiment at GALAXI</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/fit-with-uncertainties/"><span>Considering uncertainties</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/external-minimizer/"><span>External minimizer</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/external-minimizer-with-plotting/"><span>External minimizer: plotting</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/real-life-reflectometry/"><span>Reflectometry: Real life fitting</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/"><span>Miscellaneous</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/accessing-simulation-results/"><span>Accessing simulation results</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/find-peaks/"><span>Finding Intensity Peaks</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/depth-probe/"><span>Depth-probe</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/axes-in-different-units/"><span>Plotting with axes in different units</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/sample-parameters/"><span>Working with sample parameters</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/polarized-sans/"><span>Polarized SANS</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/boxes-with-specular-peak/"><span>Boxes With Specular Peak</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/cylinders-in-average-layer/"><span>Cylinders in Averaged Layer</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/half-spheres-in-average-top-layer/"><span>Hemispheres in Averaged Layer</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/magnetic-particles/"><span>Magnetic particles</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-help/"><span>Getting help</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-help/troubleshooting/"><span>Troubleshooting</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-help/frequently-asked-questions/"><span>Frequently asked questions</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/developers-corner/"><span>Developer&#39;s corner</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/developers-corner/whats-new-indocs/"><span>What&#39;s new in the documentation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/developers-corner/contribute-to-documentation/"><span>Contribute to documentation</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>

    </div>
  </div>
</div>    <hr>
    
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                  <ul class="list-inline text-center">
                    
                      <li class="list-inline-item social">
                        <a href="mailto:contact@bornagainproject.org">
                          <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                          </span>
                        </a>
                      </li>
                    
                    
                    <li class="list-inline-item social">
                      <a href="https://github.com/scgmlz/BornAgain">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                  </ul>
                  <p class="copyright text-muted"></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://www.bornagainproject.org/js/bootstrap.min.js"></script>
    
    <script src="https://www.bornagainproject.org/js/baguetteBox.min.js"></script>
    <script>
      baguetteBox.run('.galleryscg');
    </script>    
    
    <script src="https://www.bornagainproject.org/js/theme.js"></script>
    <script src="https://www.bornagainproject.org/assets/js/bornagain.js"></script>
    
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-120020802-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>


