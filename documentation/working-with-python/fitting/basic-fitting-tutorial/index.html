<!DOCTYPE html>
<html lang="en-us">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<title>Basic fitting tutorial -- BornAgain</title>


<link href="https://www.bornagainproject.org/css/bootstrap.min.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/theme.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/mathjax-style.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/vs.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/css/baguetteBox.min.css" rel="stylesheet">
<link href="https://www.bornagainproject.org/css/gallery-grid.css" rel="stylesheet">

<link href="https://www.bornagainproject.org/assets/css/bornagain.css" rel="stylesheet">

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville" rel='stylesheet'  type='text/css'> 
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
    var TEX = MathJax.InputJax.TeX;
    var PREFILTER = TEX.prefilterMath;
    TEX.Augment({
      prefilterMath: function (math,displaymode,script) {
        if (!displaymode) {math = "\\small{"+math+"}"}
        return PREFILTER.call(TEX,math,displaymode,script);
      }
    });
  });
  </script>

</head>


  <body>
    <header class="hero overlay"><div class="container">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark bg-primary">
    <a class="navbar-brand" href="https://www.bornagainproject.org">
        <img src="https://www.bornagainproject.org/assets/img/bornagain-logo.png" class="d-inline-block align-top" alt="">
        BornAgain
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
      <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
        
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/">Home</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/gallery/">Gallery</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/download/">Download</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/post/">News</a></li>
        
          <li class="nav-item active"> <a class="nav-link" href="https://www.bornagainproject.org/documentation/">Documentation</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/contact/">Contact</a></li>
        
          <li class="nav-item "> <a class="nav-link" href="https://www.bornagainproject.org/about/">About</a></li>
          
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/scgmlz/BornAgain" target="_blank" rel="noopener" aria-label="GitHub">
              <span class="fa fa-github fa-2x"></span>
            </a>
          </li>        
        
      </ul>
    </div>
  </nav>
</div>
  
      <div class="container">
        <div class="row">
          <div class="col-lg-12"> <br></div>
        </div>
      </div>
    </header>

    
  <div class="breadcrumb">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">









 <a href='https://www.bornagainproject.org/'>Home</a> > <a href='https://www.bornagainproject.org/documentation/'>Documentation</a> > <a href='https://www.bornagainproject.org/documentation/working-with-python/'>Working with Python scripts</a> > <a href='https://www.bornagainproject.org/documentation/working-with-python/fitting/'>Fitting</a> > Basic fitting tutorial

 

 

 

 

   
        </div>
      </div>
    </div>
</div>





    





<div class="container">
  <div class="row">
    <div class="col-md-8">
      
      
  
  

<h1 id="basic-fitting-tutorial">Basic fitting tutorial</h1>

<p>In this section we are going to go through a complete example of fitting using BornAgain.
Each step will be associated with a detailed piece of code written in Python.
The script can also be found in the <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/basic-fit-tutorial/">example section</a>.</p>

<p>This example uses the same sample geometry as in <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/gisas/">Basic GISAS simulation tutorial</a>.
Cylindrical and prismatic particles are deposited on a substrate layer in equal proportion,
with no interference between the particles. We consider the following parameters to be unknown:</p>

<ul>
<li>the radius of the cylinders,</li>
<li>the height of the cylinders,</li>
<li>the length of the prisms&rsquo; triangular basis,</li>
<li>the height of the prisms.</li>
</ul>

<p>Our reference data are a &ldquo;noisy&rdquo; two-dimensional intensity map obtained from the simulation of the same geometry
with a fixed value of 5nm for all sizes of cylinders and prisms.</p>

<h3 id="importing-the-python-libraries">Importing the python libraries</h3>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">bornagain</span> <span class="kn">as</span> <span class="nn">ba</span>
<span class="kn">from</span> <span class="nn">bornagain</span> <span class="kn">import</span> <span class="n">deg</span><span class="p">,</span> <span class="n">angstrom</span><span class="p">,</span> <span class="n">nm</span></code></pre></td></tr></table>
</div>
</div>

<p>We start with importing the BornAgain Python API and particularly the dimension units defined in BornAgain.</p>

<h3 id="building-the-sample">Building the sample</h3>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get_sample</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Returns a sample with uncorrelated cylinders and prisms on a substrate.
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="n">cylinder_height</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s2">&#34;cylinder_height&#34;</span><span class="p">]</span>
    <span class="n">cylinder_radius</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s2">&#34;cylinder_radius&#34;</span><span class="p">]</span>
    <span class="n">prism_height</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s2">&#34;prism_height&#34;</span><span class="p">]</span>
    <span class="n">prism_base_edge</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s2">&#34;prism_base_edge&#34;</span><span class="p">]</span>

    <span class="c1"># defining materials</span>
    <span class="n">m_air</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">HomogeneousMaterial</span><span class="p">(</span><span class="s2">&#34;Air&#34;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="n">m_substrate</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">HomogeneousMaterial</span><span class="p">(</span><span class="s2">&#34;Substrate&#34;</span><span class="p">,</span> <span class="mf">6e-6</span><span class="p">,</span> <span class="mf">2e-8</span><span class="p">)</span>
    <span class="n">m_particle</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">HomogeneousMaterial</span><span class="p">(</span><span class="s2">&#34;Particle&#34;</span><span class="p">,</span> <span class="mf">6e-4</span><span class="p">,</span> <span class="mf">2e-8</span><span class="p">)</span>

    <span class="c1"># collection of particles</span>
    <span class="n">cylinder_ff</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorCylinder</span><span class="p">(</span><span class="n">cylinder_radius</span><span class="p">,</span> <span class="n">cylinder_height</span><span class="p">)</span>
    <span class="n">cylinder</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Particle</span><span class="p">(</span><span class="n">m_particle</span><span class="p">,</span> <span class="n">cylinder_ff</span><span class="p">)</span>
    <span class="n">prism_ff</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FormFactorPrism3</span><span class="p">(</span><span class="n">prism_base_edge</span><span class="p">,</span> <span class="n">prism_height</span><span class="p">)</span>
    <span class="n">prism</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Particle</span><span class="p">(</span><span class="n">m_particle</span><span class="p">,</span> <span class="n">prism_ff</span><span class="p">)</span>
    <span class="n">layout</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">ParticleLayout</span><span class="p">()</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">cylinder</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addParticle</span><span class="p">(</span><span class="n">prism</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

    <span class="c1"># air layer with particles and substrate form multi layer</span>
    <span class="n">air_layer</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">m_air</span><span class="p">)</span>
    <span class="n">air_layer</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
    <span class="n">substrate_layer</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">m_substrate</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">multi_layer</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">MultiLayer</span><span class="p">()</span>
    <span class="n">multi_layer</span><span class="o">.</span><span class="n">addLayer</span><span class="p">(</span><span class="n">air_layer</span><span class="p">)</span>
    <span class="n">multi_layer</span><span class="o">.</span><span class="n">addLayer</span><span class="p">(</span><span class="n">substrate_layer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">multi_layer</span></code></pre></td></tr></table>
</div>
</div>

<p>The function starting at line 12 creates a multilayered sample
with cylinders and prisms randomly distributed on a surface.
The function accepts a dictionary as input parameters and use its key/value pairs to define the particle sizes.</p>

<h3 id="creating-the-simulation">Creating the simulation</h3>

<p><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">get_simulation</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Returns a GISAXS simulation with beam and detector defined
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="n">simulation</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">GISASSimulation</span><span class="p">()</span>
    <span class="n">simulation</span><span class="o">.</span><span class="n">setDetectorParameters</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span>
                                     <span class="mi">100</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="mf">2.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
    <span class="n">simulation</span><span class="o">.</span><span class="n">setBeamParameters</span><span class="p">(</span><span class="mf">1.0</span><span class="o">*</span><span class="n">angstrom</span><span class="p">,</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="mf">0.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
    <span class="n">simulation</span><span class="o">.</span><span class="n">setBeamIntensity</span><span class="p">(</span><span class="mf">1e+08</span><span class="p">)</span>
    <span class="n">simulation</span><span class="o">.</span><span class="n">setSample</span><span class="p">(</span><span class="n">get_sample</span><span class="p">(</span><span class="n">params</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">simulation</span></code></pre></td></tr></table>
</div>
</div></p>

<p>The function starting at line 45 creates the simulation object with beam, detector and user sample defined.
This function is intended to be called on every minimization iteration to provide a new simulation object for every new set of fit parameter values. In the given example the set of parameters is used
to construct a new sample by calling the <code>get_sample</code> method described earlier.</p>

<h3 id="creating-the-experimental-data">Creating the &ldquo;experimental&rdquo; data</h3>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">create_real_data</span><span class="p">():</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Generating &#34;experimental&#34; data by running simulation with certain parameters.
</span><span class="s2">    The data is saved on disk in the form of numpy array.
</span><span class="s2">    &#34;&#34;&#34;</span>

    <span class="c1"># default sample parameters</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cylinder_height&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="s1">&#39;cylinder_radius&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span>
              <span class="s1">&#39;prism_height&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="s1">&#39;prism_base_edge&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="o">*</span><span class="n">nm</span><span class="p">}</span>

    <span class="c1"># retrieving simulated data in the form of numpy array</span>
    <span class="n">simulation</span> <span class="o">=</span> <span class="n">get_simulation</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">simulation</span><span class="o">.</span><span class="n">runSimulation</span><span class="p">()</span>
    <span class="n">real_data</span> <span class="o">=</span> <span class="n">simulation</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">array</span><span class="p">()</span>

    <span class="c1"># spoiling simulated data with noise to produce &#34;real&#34; data</span>
    <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">noise_factor</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">noisy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">real_data</span><span class="p">,</span> <span class="n">noise_factor</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">real_data</span><span class="p">))</span>
    <span class="n">noisy</span><span class="p">[</span><span class="n">noisy</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.1</span>

    <span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s2">&#34;basic_fitting_tutorial_data.txt.gz&#34;</span><span class="p">,</span> <span class="n">real_data</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>

<p>The experimental data here is represented by a 2D numpy array with detector intensities obtained from the same simulation. The &ldquo;experimental&rdquo; data file is prepared by running once a simulation with default parameters, adding noise to it and saving it on disk.</p>

<h3 id="setting-up-the-fit-objective">Setting up the fit objective</h3>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span><span class="lnt">96
</span><span class="lnt">97
</span><span class="lnt">98
</span><span class="lnt">99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">run_fitting</span><span class="p">():</span>

    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Setup simulation and fit
</span><span class="s2">    &#34;&#34;&#34;</span>

    <span class="n">real_data</span> <span class="o">=</span> <span class="n">load_real_data</span><span class="p">()</span>

    <span class="n">fit_objective</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">FitObjective</span><span class="p">()</span>
    <span class="n">fit_objective</span><span class="o">.</span><span class="n">addSimulationAndData</span><span class="p">(</span><span class="n">get_simulation</span><span class="p">,</span> <span class="n">real_data</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

    <span class="c1"># Print fit progress on every n-th iteration.</span>
    <span class="n">fit_objective</span><span class="o">.</span><span class="n">initPrint</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="c1"># Plot fit progress on every n-th iteration. Will slow down fit.</span>
    <span class="n">fit_objective</span><span class="o">.</span><span class="n">initPlot</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>

<p>The <code>FitObjective</code> created here is used to put into correspondence the real data, represented by a numpy array, and the simulation, represented by the <code>get_simulation</code> callable. On every fit iteration <code>FitObjective</code></p>

<ul>
<li>will generate a new simulation object for a given set of fit parameter values using the <code>get_simulation</code> callable,</li>
<li>run it to obtain simulated detector intensities,</li>
<li>calculate chi2 between simulated and real data.</li>
</ul>

<h3 id="setting-the-fit-parameters">Setting the fit parameters</h3>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python">    <span class="n">params</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Parameters</span><span class="p">()</span>
    <span class="n">params</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;cylinder_height&#34;</span><span class="p">,</span> <span class="mf">4.</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
    <span class="n">params</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;cylinder_radius&#34;</span><span class="p">,</span> <span class="mf">6.</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
    <span class="n">params</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;prism_height&#34;</span><span class="p">,</span> <span class="mf">4.</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
    <span class="n">params</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&#34;prism_base_edge&#34;</span><span class="p">,</span> <span class="mf">12.</span><span class="o">*</span><span class="n">nm</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>

<p>The creation of fit parameters is straightforward. We give names, starting values and lower bounds to 4 fit parameters, representing the dimensions of the cylinders and prisms.
The fit parameter names must coincide with the names that the <code>get_simulation</code> callable expects.</p>

<h3 id="creating-the-minimizer-and-running-the-fit">Creating the minimizer and running the fit</h3>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python">    <span class="n">minimizer</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">Minimizer</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">minimizer</span><span class="o">.</span><span class="n">minimize</span><span class="p">(</span><span class="n">fit_objective</span><span class="o">.</span><span class="n">evaluate</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
    <span class="n">fit_objective</span><span class="o">.</span><span class="n">finalize</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;Fitting completed.&#34;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&#34;chi2:&#34;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">minValue</span><span class="p">())</span></code></pre></td></tr></table>
</div>
</div>

<p>The method <code>fit_objective.evaluate</code> provided by the <code>FitObjective</code> class interface is used here as an objective function.
The method accepts fit parameters and returns the chi2 value, calculated between experimental and simulated images for the given values of the fit parameters.</p>

<p>The method is passed to the minimizer together with the initial fit parameter values. The <code>minimizer.minimize</code> starts a fit that will
continue further without user intervention until the minimum is found or the minimizer failed to converge.
The rest of the code demonstrates how to access the fit results.</p>

<p>See the full script in the <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/basic-fit-tutorial/">Fit Cylinders and Prisms</a> example.</p>


      <div class="container next-prev">
<nav>
  <ul class="pagination pagination-sm justify-content-end"><li class="page-item ">
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/minimal-fitting-example/" class="page-link"><i class="fa fa-chevron-left fa-1g "></i>
      </a>
    </li>  

    <li class="page-item ">
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/importing-experimental-data/" class="page-link"><i class="fa fa-chevron-right fa-1g "></i>
      </a>
    </li></ul>
</nav>
</div>

    </div>
    <div class="col-md-4">
    <ul class="doctree">
    <li class="dd-item parent">
          <i class="fa liOpened li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/"><span>Documentation</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/introduction/"><span>Introduction</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/introduction/functionality/"><span>Functionality overview</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/introduction/architecture/"><span>Architectural overview</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/"><span>Getting started</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/"><span>Installation instructions</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/"><span>Installation on Windows</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-anaconda/"><span>Install Python with the Anaconda installer (recommended)</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-original/"><span>Manual Python installation (advanced)</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-original/python-vscode/"><span>VSCode editor</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-original/python-pycharm/"><span>PyCharm IDE</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/windows/python-troubleshooting/"><span>Python troubleshooting</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/macos/"><span>Installation on MacOS</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/macos/advanced-tips/"><span>Advanced tips</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-short/"><span>Installation on Linux (short version)</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/"><span>Installation on Linux (detailed version)</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/third-party/"><span>Install third-party software</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/get-source/"><span>Get the source</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/build-and-install/"><span>Build and install BornAgain</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/installation/linux-detailed/first-simulation/"><span>Run a first simulation</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-started/quick-start/"><span>Quick Start</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/running-gui/"><span>Using the Graphical User Interface</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/running-gui/gui-overview/"><span>BornAgain GUI overview</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/running-gui/gui-fitting/"><span>Fitting in the GUI</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item parent">
          <i class="fa liOpened li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/"><span>Working with Python scripts</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/"><span>Basic simulation tutorial</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/gisas/"><span>GISAS</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/reflectometry/"><span>Reflectometry</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/basic-simulation-tutorial/depth-probe/"><span>Depth-probe</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/material-types/"><span>Material types</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/"><span>Detector types</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/spherical-detector/"><span>Spherical detector</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/detector-types/rectangular-detector/"><span>Rectangular detector</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/accessing-simulation-results/"><span>Accessing simulation results</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-positioning/"><span>Particle positioning</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-distribution/"><span>Particle distribution</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-rotation/"><span>Particle rotation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/particle-composition/"><span>Particle composition</span> </a>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/"><span>Interference functions</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/lattice1d/"><span>1D lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/lattice2d/"><span>2D lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/para_radial/"><span>Radial paracrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/interference/para2d/"><span>2D paracrystal</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/3d-nanoparticle-arrangements/"><span>3D Nanoparticle Arrangements</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/magnetic-particles/"><span>Magnetic particles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/python-api/"><span>Python API</span> </a>
    </li>
    <li class="dd-item parent">
          <i class="fa liOpened li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/"><span>Fitting</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/"><span>Introduction</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/basic-concept/"><span>Basic concept</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/fitting-in-gisas/"><span>Fitting in GISAS</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/introduction/minimal-fitting-example/"><span>Minimal fitting example</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item active">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/basic-fitting-tutorial/"><span>Basic fitting tutorial</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/importing-experimental-data/"><span>Importing experimental data</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/instrument-description/"><span>Experiment description</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/working-with-python/fitting/minimizers/"><span>Minimizer settings</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/"><span>Tutorial examples</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/"><span>Embedded particles</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/cylinders-ba/"><span>Cylinders in Born Approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/cylinders-dwba/"><span>Cylinders in Distorted Wave Born Approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/size-distribution/"><span>Cylinders with size distribution</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/size-distribution2/"><span>Two types of cylinders with size distribution</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/rotated-pyramids/"><span>Rotated Pyramids</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/cylinders-and-prisms/"><span>Cylinders and Prisms</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/embedded-particles/all-formfactors/"><span>All available form factors</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/"><span>Layered structures</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/buried-particles/"><span>Buried particles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/layered-structures/correlated-roughness/"><span>Correlated roughness</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/"><span>Interference functions</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-1d-lattice/"><span>1D lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-square-lattice/"><span>2D square lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-rotated-square-lattice/"><span>2D rotated square lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-square-finite-lattice/"><span>2D square finite lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-lattice-sum-of-rotated/"><span>2D sum of rotated square lattices</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-centered-square-lattice/"><span>2D centered square lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/spheres-at-hex-lattice/"><span>Spheres on Hexagonal Lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/cosine-ripples-at-rect-lattice/"><span>Cosine ripples in a lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/triangular-ripples/"><span>Triangular ripples in a lattice</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-2d-paracrystal/"><span>2D Paracrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/interference-1d-radial-paracrystal/"><span>1D radial paracrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/rectangular-grating/"><span>Rectangular grating</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/approximation-da/"><span>Size-distribution model: decoupling approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/approximation-lma/"><span>Size-distribution model: local monodisperse approximation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/interference-functions/approximation-ssca/"><span>Size-distribution model: size-spacing coupling approximation</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/"><span>Complex shapes</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/core-shell-nanoparticles/"><span>Core shell nanoparticles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/bi-material-cylinders/"><span>Cylinders with two materials</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/particles-crossing-interface/"><span>Particles crossing an interface</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/hexagonal-lattice-with-basis/"><span>Hexagonal lattices with basis</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/meso-crystal/"><span>Mesocrystal</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/large-particles-formfactor/"><span>Large particle formfactor</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/complex-shapes/custom-formfactor/"><span>Custom formfactor</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/"><span>Beam and detector</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/beam-divergence/"><span>Beam divergence</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/constant-background/"><span>Adding constant background</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/detector-resolution/"><span>Detector resolution function</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/offspecular-simulation/"><span>Off-Specular</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/resonator-offspec-setup/"><span>Off-Specular - Resonators</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/beam-and-detector/rectangular-detector/"><span>Rectangular detector</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/"><span>Reflectometry</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/specular-simulation-with-roughness/"><span>Simulation with a rough sample</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/footprint-correction/"><span>Footprint correction</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/beam-angular-divergence/"><span>Beam Angular Spread</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/beam-full-divergence/"><span>Beam Wavelength Spread</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/material-profile/"><span>Material profile</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/material-profile-with-particles/"><span>Material profile with particles</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/time-of-flight/"><span>Time of Flight Reflectometry</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/reflectometry/tofr-with-resolution/"><span>ToF - Resolution effects</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/"><span>Fitting</span></a>
        <ul>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/"><span>Basic examples</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/minimal-fit-example/"><span>Minimal fit example</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/basic-fit-tutorial/"><span>Basic fit example</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/minimizer-settings/"><span>Minimizer settings</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/basic/consecutive-fitting/"><span>Consecutive fitting</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/"><span>Advanced examples</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/fit-with-masks/"><span>Fitting with masks</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/fit-along-slices/"><span>Fitting along slices</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/find-background/"><span>Find background</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/advanced/multiple-datasets/"><span>Simultaneous fit of two datasets</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/"><span>Extended examples</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/fit-specular-data/"><span>Fitting reflectometry data</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/custom-objective-function/"><span>Custom objective function</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/experiment-at-galaxi/"><span>Experiment at GALAXI</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/fit-with-uncertainties/"><span>Considering uncertainties</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/external-minimizer/"><span>External minimizer</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/external-minimizer-with-plotting/"><span>External minimizer: plotting</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/fitting/extended/real-life-reflectometry/"><span>Reflectometry: Real life fitting</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/"><span>Miscellaneous</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/accessing-simulation-results/"><span>Accessing simulation results</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/find-peaks/"><span>Finding Intensity Peaks</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/depth-probe/"><span>Depth-probe</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/axes-in-different-units/"><span>Plotting with axes in different units</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/sample-parameters/"><span>Working with sample parameters</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/polarized-sans/"><span>Polarized SANS</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/boxes-with-specular-peak/"><span>Boxes With Specular Peak</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/cylinders-in-average-layer/"><span>Cylinders in Averaged Layer</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/half-spheres-in-average-top-layer/"><span>Hemispheres in Averaged Layer</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/tutorial-examples/miscellaneous/magnetic-particles/"><span>Magnetic particles</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-help/"><span>Getting help</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-help/troubleshooting/"><span>Troubleshooting</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/getting-help/frequently-asked-questions/"><span>Frequently asked questions</span> </a>
    </li>
        </ul>
    </li>
    <li class="dd-item"><i class="fa liClosed li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/developers-corner/"><span>Developer&#39;s corner</span></a>
        <ul>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/developers-corner/whats-new-indocs/"><span>What&#39;s new in the documentation</span> </a>
    </li>
    <li class="dd-item">
      <i class="fa liSingle li-item-icon"></i>
      <a href="https://www.bornagainproject.org/documentation/developers-corner/contribute-to-documentation/"><span>Contribute to documentation</span> </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>

    </div>
  </div>
</div>    <hr>
    
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                  <ul class="list-inline text-center">
                    
                      <li class="list-inline-item social">
                        <a href="mailto:contact@bornagainproject.org">
                          <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                          </span>
                        </a>
                      </li>
                    
                    
                    <li class="list-inline-item social">
                      <a href="https://github.com/scgmlz/BornAgain">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                  </ul>
                  <p class="copyright text-muted"></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://www.bornagainproject.org/js/bootstrap.min.js"></script>
    
    <script src="https://www.bornagainproject.org/js/baguetteBox.min.js"></script>
    <script>
      baguetteBox.run('.galleryscg');
    </script>    
    
    <script src="https://www.bornagainproject.org/js/theme.js"></script>
    <script src="https://www.bornagainproject.org/assets/js/bornagain.js"></script>
    
    
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-120020802-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>


